(function(){(function(e){if("function"==typeof bootstrap)bootstrap("jade",e);else if("object"==typeof exports)module.exports=e();else if("function"==typeof define&&define.amd)define(e);else if("undefined"!=typeof ses){if(!ses.ok())return;ses.makeJade=e}else"undefined"!=typeof window?window.jade=e():global.jade=e()})(function(){var define,ses,bootstrap,module,exports;return function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);throw new Error("Cannot find module '"+o+"'")}var f=n[o]={exports:{}};t[o][0].call(f.exports,function(e){var n=t[o][1][e];return s(n?n:e)},f,f.exports,e,t,n,r)}return n[o].exports}var i=typeof require=="function"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s}({1:[function(require,module,exports){if(!Array.isArray){Array.isArray=function(arr){return"[object Array]"==Object.prototype.toString.call(arr)}}if(!Object.keys){Object.keys=function(obj){var arr=[];for(var key in obj){if(obj.hasOwnProperty(key)){arr.push(key)}}return arr}}exports.merge=function merge(a,b){var ac=a["class"];var bc=b["class"];if(ac||bc){ac=ac||[];bc=bc||[];if(!Array.isArray(ac))ac=[ac];if(!Array.isArray(bc))bc=[bc];a["class"]=ac.concat(bc).filter(nulls)}for(var key in b){if(key!="class"){a[key]=b[key]}}return a};function nulls(val){return val!=null&&val!==""}function joinClasses(val){return Array.isArray(val)?val.map(joinClasses).filter(nulls).join(" "):val}exports.attrs=function attrs(obj,escaped){var buf=[],terse=obj.terse;delete obj.terse;var keys=Object.keys(obj),len=keys.length;if(len){buf.push("");for(var i=0;i<len;++i){var key=keys[i],val=obj[key];if("boolean"==typeof val||null==val){if(val){terse?buf.push(key):buf.push(key+'="'+key+'"')}}else if(0==key.indexOf("data")&&"string"!=typeof val){buf.push(key+"='"+JSON.stringify(val)+"'")}else if("class"==key){if(escaped&&escaped[key]){if(val=exports.escape(joinClasses(val))){buf.push(key+'="'+val+'"')}}else{if(val=joinClasses(val)){buf.push(key+'="'+val+'"')}}}else if(escaped&&escaped[key]){buf.push(key+'="'+exports.escape(val)+'"')}else{buf.push(key+'="'+val+'"')}}}return buf.join(" ")};exports.escape=function escape(html){return String(html).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")};exports.rethrow=function rethrow(err,filename,lineno,str){if(!(err instanceof Error))throw err;if((typeof window!="undefined"||!filename)&&!str){err.message+=" on line "+lineno;throw err}try{str=str||require("fs").readFileSync(filename,"utf8")}catch(ex){rethrow(err,null,lineno)}var context=3,lines=str.split("\n"),start=Math.max(lineno-context,0),end=Math.min(lines.length,lineno+context);var context=lines.slice(start,end).map(function(line,i){var curr=i+start+1;return(curr==lineno?"  > ":"    ")+curr+"| "+line}).join("\n");err.path=filename;err.message=(filename||"Jade")+":"+lineno+"\n"+context+"\n\n"+err.message;throw err}},{fs:2}],2:[function(require,module,exports){},{}]},{},[1])(1)});function require(path,parent){var realpath=require.resolve(path,parent),m=require.mods[realpath];if(!m.init){m.factory.call(this,require.local(realpath),m.module,m.module.exports);m.init=true}return m.module.exports}require.mods={};require.local=function(path){var r=function(id){return require(id,path)};r.resolve=function(id){return require.resolve(id,path)};return r};require.register=function(path,mod,aliases){require.mods[path]={factory:mod,aliases:aliases,module:{exports:{}}}};require.aliases={app:"src/frontend/scripts",templates:"src/frontend/templates"};require.alias=function(path){for(var alias in require.aliases)if(path.indexOf(alias)==0)return require.aliases[alias]+path.match(/\/(.+)/)[0];return null};require.resolve=function(path,parent){var realpath;if(parent)if(!(realpath=require.mods[parent].aliases[path]))realpath=require.alias(path);if(!require.mods[realpath||path])throw new Error("Module not found: "+path);return realpath||path};window.require=require;require.register("node_modules/happens/index",function(require,module,exports){module.exports=function(target){target=target||{};for(var prop in Happens)target[prop]=Happens[prop];return target};var Happens={__init:function(event){var tmp=this.__listeners||(this.__listeners=[]);return tmp[event]||(tmp[event]=[])},on:function(event,fn){validate(fn);this.__init(event).push(fn)},off:function(event,fn){var pool=this.__init(event);pool.splice(pool.indexOf(fn),1)},once:function(event,fn){validate(fn);var self=this,wrapper=function(){self.off(event,wrapper);fn.apply(this,arguments)};this.on(event,wrapper)},emit:function(event){var i,pool=this.__init(event).slice(0);for(i in pool)pool[i].apply(this,[].slice.call(arguments,1))}};function validate(fn){if(!(fn&&fn instanceof Function))throw new Error(fn+" is not a Function")}},{});require.register("node_modules/ways-browser/lib/hash",function(require,module,exports){var Event,Hash,PseudoHistory,_ref,__hasProp={}.hasOwnProperty,__extends=function(child,parent){for(var key in parent){if(__hasProp.call(parent,key))child[key]=parent[key]}function ctor(){this.constructor=child}ctor.prototype=parent.prototype;child.prototype=new ctor;child.__super__=parent.prototype;return child};Event=require("happens");PseudoHistory=function(_super){__extends(PseudoHistory,_super);function PseudoHistory(){_ref=PseudoHistory.__super__.constructor.apply(this,arguments);return _ref}PseudoHistory.prototype.state=null;return PseudoHistory}(Array);module.exports=Hash=function(_super){__extends(Hash,_super);Hash.prototype.history=null;function Hash(){var hash,pathname,_this=this;this.history=new PseudoHistory;hash=window.location.hash;pathname=window.location.pathname;if(hash===""){if(pathname.length>1){window.location.href="/#"+pathname}else{window.location.href="#/"}}window.attachEvent("onhashchange",function(){return _this.emit("url:change",_this.pathname())},false)}Hash.prototype.pathname=function(){return window.location.hash};Hash.prototype.push=function(url,title,state){this.history.push(this.history.state=state);window.location.hash=url;if(title!=null){document.title=title}return this.emit("url:change",this.pathname())};Hash.prototype.replace=function(url,title,state){this.history[this.history.length-1]=this.history.state=state;if(title!=null){document.title=title}return window.location.hash.replace(url)};return Hash}(Event)},{happens:"node_modules/ways-browser/node_modules/happens/lib/happens"});require.register("node_modules/ways-browser/lib/history",function(require,module,exports){var Event,History,__hasProp={}.hasOwnProperty,__extends=function(child,parent){for(var key in parent){if(__hasProp.call(parent,key))child[key]=parent[key]}function ctor(){this.constructor=child}ctor.prototype=parent.prototype;child.prototype=new ctor;child.__super__=parent.prototype;return child};Event=require("happens");module.exports=History=function(_super){__extends(History,_super);History.prototype.history=window.history;function History(){var _ref,_this=this;if((_ref=window.location.hash)!=null?_ref.length:void 0){this.replace(window.location.hash.substr(1))}window.addEventListener("popstate",function(){var popped;if(initial===_this.pathname()&&!popped){return popped=true}return _this.emit("url:change",window.location.pathname)},false)}History.prototype.pathname=function(){return window.location.pathname};History.prototype.push=function(url,title,state){window.history.pushState(state,title,url);if(title!=null){document.title=title}return this.emit("url:change",window.location.pathname)};History.prototype.replace=function(url,title,state){window.history.replaceState(state,title,url);if(title!=null){return document.title=title}};return History}(Event)},{happens:"node_modules/ways-browser/node_modules/happens/lib/happens"});require.register("node_modules/ways-browser/lib/index",function(require,module,exports){var Event,Hash,History,Index,__hasProp={}.hasOwnProperty,__extends=function(child,parent){for(var key in parent){if(__hasProp.call(parent,key))child[key]=parent[key]}function ctor(){this.constructor=child}ctor.prototype=parent.prototype;child.prototype=new ctor;child.__super__=parent.prototype;return child};Event=require("happens");History=require("./history");Hash=require("./hash");module.exports=Index=function(_super){__extends(Index,_super);Index.prototype.api=null;function Index(){var _this=this;if(window.history.pushState!=null){this.api=new History}else{this.api=new Hash}this.api.on("url:change",function(pathname){return _this.emit("url:change",pathname)});this.history=this.api.history}Index.prototype.pathname=function(){return this.api.pathname()};Index.prototype.push=function(url,title,state){return this.api.push(url,title,state)};Index.prototype.replace=function(url,title,state){return this.api.replace(url,title,state)};return Index}(Event)},{happens:"node_modules/ways-browser/node_modules/happens/lib/happens","./history":"node_modules/ways-browser/lib/history","./hash":"node_modules/ways-browser/lib/hash"});require.register("node_modules/ways-browser/node_modules/happens/lib/happens",function(require,module,exports){var Happens,__slice=[].slice;module.exports=Happens=function(){function Happens(){}Happens.prototype.on=function(key,callback){var pool;pool=this.__listeners||(this.__listeners=[]);return(pool[key]||(pool[key]=[])).push(callback)};Happens.prototype.off=function(key,callback){var pool,_ref;if((pool=(_ref=this.__listeners)!=null?_ref[key]:void 0)!=null){return pool.splice(pool.indexOf(callback),1)}};Happens.prototype.once=function(key,callback){var wrapper,_this=this;return this.on(key,wrapper=function(){_this.off(key,wrapper);return callback.apply(_this,arguments)})};Happens.prototype.emit=function(){var args,key,listener,pool,_i,_len,_ref,_ref1,_results;key=arguments[0],args=2<=arguments.length?__slice.call(arguments,1):[];if((pool=(_ref=this.__listeners)!=null?_ref[key]:void 0)!=null){_ref1=pool.slice(0);_results=[];for(_i=0,_len=_ref1.length;_i<_len;_i++){listener=_ref1[_i];_results.push(listener.apply(this,args))}return _results}};Happens.mixin=function(target){var prop,_results;_results=[];for(prop in this.prototype){_results.push(target[prop]=this.prototype[prop])}return _results};return Happens}()},{});require.register("node_modules/ways/lib/flow",function(require,module,exports){var happens=require("happens"),fluid=require("./fluid");var find=function(arr,filter){for(var item,i=0,len=arr.length;i<len;i++){if(filter(item=arr[i])){return item}}};var reject=function(arr,filter){for(var item,copy=[],i=0,len=arr.length;i<len;i++){if(!filter(item=arr[i])){copy.push(item)}}return copy};module.exports=function(routes,mode){return new Flow(routes,mode)};function Flow(routes,mode){happens(this);this.routes=routes;this.mode=mode;this.deads=[];this.actives=[];this.pendings=[];this.status="free"}Flow.prototype.run=function(url,route){var flu,self=this;if(this.status=="busy")this.actives.splice(-1,1);this.emit("status:busy");this.deads=[];this.pendings=[];flu=fluid(route,url);this.filter_pendings(flu);this.filter_deads();this.status="busy";if(this.mode==="run+destroy"){this.run_pendings(function(){self.destroy_deads(function(){self.status="free";self.emit("status:free",self.mode)})})}else if(this.mode==="destroy+run"){this.destroy_deads(function(){self.run_pendings(function(){self.status="free";self.emit("status:free",self.mode)})})}};Flow.prototype.find_dependency=function(parent){var route,flu;flu=find(this.actives,function(f){return f.url===parent.dependency});if(flu!=null)return flu;route=find(this.routes,function(r){return r.matcher.test(parent.route.dependency)});if(route!=null)return fluid(route,parent.dependency);return null};Flow.prototype.filter_pendings=function(parent){var err,flu,route,dep;this.pendings.unshift(parent);if(parent.dependency==null)return;if((flu=this.find_dependency(parent))!=null)return this.filter_pendings(flu);route=parent.route.pattern;dep=parent.dependency;err="Dependency '"+dep+"' not found for route '"+route+"'";throw new Error(err)};Flow.prototype.filter_deads=function(){var flu,is_pending,i,len;for(i=0,len=this.actives.length;i<len;i++){flu=this.actives[i];is_pending=find(this.pendings,function(f){return f.url===flu.url});if(!is_pending){this.deads.push(flu)}}};Flow.prototype.run_pendings=function(done){var flu,is_active,self=this;if(this.pendings.length===0)return done();flu=this.pendings.shift();is_active=find(this.actives,function(f){return f.url===flu.url});if(is_active)return this.run_pendings(done);this.actives.push(flu);this.emit("run:pending",flu.url);flu.run(function(){self.run_pendings(done)})};Flow.prototype.destroy_deads=function(done){var flu,self=this;if(this.deads.length===0)return done();flu=this.deads.pop();this.actives=reject(this.actives,function(f){return f.url===flu.url});flu.destroy(function(){self.destroy_deads(done)})}},{happens:"node_modules/ways/node_modules/happens/lib/happens","./fluid":"node_modules/ways/lib/fluid"});require.register("node_modules/ways/lib/fluid",function(require,module,exports){module.exports=function(route,url){return new Fluid(route,url)};function Fluid(route,url){this.route=route;this.url=url;if(route.dependency)this.dependency=route.computed_dependency(url)}Fluid.prototype.run=function(done){this.req=this.route.run(this.url,done)};Fluid.prototype.destroy=function(done){if(this.req)this.route.destroy(this.req,done)}},{});require.register("node_modules/ways/lib/way",function(require,module,exports){var _params_regex={named:/:\w+/g,splat:/\*\w+/g,optional:/\/(?:\:|\*)(\w+)\?/g};module.exports=function(pattern,runner,destroyer,dependency){return new Way(pattern,runner,destroyer,dependency)};function Way(pattern,runner,destroyer,dependency){this.matcher=null;this.pattern=pattern;this.runner=runner;this.destroyer=destroyer;this.dependency=dependency;var _params_regex={named:/:\w+/g,splat:/\*\w+/g,optional:/\/(\:|\*)(\w+)\?/g};if(pattern==="*"){this.matcher=/.*/}else{this.matcher=pattern.replace(_params_regex.optional,"(?:/)?$1$2?");this.matcher=this.matcher.replace(_params_regex.named,"([^/]+)");this.matcher=this.matcher.replace(_params_regex.splat,"(.*?)");this.matcher=new RegExp("^"+this.matcher+"$","m")}}Way.prototype.extract_params=function(url){var name,names,params,vals,i,len;names=this.pattern.match(/(?::|\*)(\w+)/g);if(names==null)return{};vals=url.match(this.matcher);params={};for(i=0,len=names.length;i<len;i++){name=names[i];params[name.substr(1)]=vals[i+1]}return params};Way.prototype.rewrite_pattern=function(pattern,url){var key,value,reg,params;params=this.extract_params(url);for(key in params){value=params[key];reg=new RegExp("[:*]+"+key,"g");pattern=pattern.replace(reg,value)}return pattern};Way.prototype.computed_dependency=function(url){return this.rewrite_pattern(this.dependency,url)};Way.prototype.run=function(url,done){var req={url:url,pattern:this.pattern,params:this.extract_params(url)};this.runner(req,done);return req};Way.prototype.destroy=function(req,done){this.destroyer(req,done)}},{});require.register("node_modules/ways/lib/ways",function(require,module,exports){var way=require("./way"),flow=require("./flow");var mode,flo,middleware,routes=[];dispatch=function(url){var i,route;url="/"+url.replace(/^[\/]+|[\/]+$/gm,"");for(i in routes){route=routes[i];if(routes[i].matcher.test(url))return run(url,routes[i])}throw new Error("Route not found for url '"+url+"'")};run=function(url,route){if(flo){flo.run(url,route)}else{route.run(url)}return route};module.exports=function(pattern,runner,destroyer,dependency){if(flo&&arguments.length<3)throw new Error("In `flow` mode you must to pass at least 3 args.");var route=way(pattern,runner,destroyer,dependency);routes.push(route);return route};exports=module.exports;exports.init=function(){dispatch(this.pathname())};exports.mode=function(m){routes=[];if((mode=m)!=null)flo=flow(routes,mode)};exports.use=function(mid){middleware=new mid;middleware.on("url:change",function(){dispatch(middleware.pathname())})};exports.pathname=function(){if(middleware)return middleware.pathname()};exports.go=function(url,title,state){if(middleware)middleware.push(url,title,state);else dispatch(url)};exports.go.silent=function(url,title,state){if(middleware)middleware.replace(url,title,state)};exports.reset=function(){flo=null;mode=null;routes=[];middleware=null}},{"./way":"node_modules/ways/lib/way","./flow":"node_modules/ways/lib/flow"});require.register("node_modules/ways/node_modules/happens/lib/happens",function(require,module,exports){module.exports=function(target){for(var prop in Happens)target[prop]=Happens[prop];return target};function validate(fn){if(!(fn&&fn instanceof Function))throw new Error(fn+"is not a function")}var Happens={__init:function(event){var tmp=this.__listeners||(this.__listeners=[]);return tmp[event]||(tmp[event]=[])},on:function(event,fn){validate(fn);this.__init(event).push(fn)},off:function(event,fn){var pool=this.__init(event);pool.splice(pool.indexOf(fn),1)},once:function(event,fn){validate(fn);var self=this,wrapper=function(){self.off(event,wrapper);fn.apply(this,arguments)};this.on(event,wrapper)},emit:function(event){var i,pool=this.__init(event).slice(0);for(i in pool)pool[i].apply(this,[].slice.call(arguments,1))}}},{});require.register("src/frontend/scripts/app",function(require,module,exports){var App,Window,app,happens,navigation,views,__bind=function(fn,me){return function(){return fn.apply(me,arguments)}};window.delay=require("./utils/delay");window.log=require("./utils/log");Window=require("./utils/window");require("../vendors/modernizr.custom.js");require("./utils/mover");happens=require("happens");views=require("./controllers/views");navigation=require("./controllers/navigation");App=function(){App.prototype.win={obj:null,w:0,h:0};function App(){this.after_render=__bind(this.after_render,this);happens(this);this.on("ready",this.after_render)}App.prototype.start=function(){var _this=this;this.body=$("body");this.settings=require("app/utils/settings");this.settings.bind(this.body);this.window=new Window;views.bind();navigation.bind();navigation.on("before_destroy",function(){log("--------- BEFORE DESTROY");return views.unbind("#content")});return navigation.on("after_render",function(){views.bind("#content");return navigation.bind("#content")})};App.prototype.logged=function(user){return log("[logged]",user)};App.prototype.after_render=function(){var _this=this;return delay(10,function(){return _this.body.addClass("loaded")})};return App}();app=new App;$(function(){return app.start()});module.exports=window.app=app},{"./utils/delay":"src/frontend/scripts/utils/delay","./utils/log":"src/frontend/scripts/utils/log","./utils/window":"src/frontend/scripts/utils/window","../vendors/modernizr.custom.js":"src/frontend/vendors/modernizr.custom","./utils/mover":"src/frontend/scripts/utils/mover",happens:"node_modules/happens/index","./controllers/views":"src/frontend/scripts/controllers/views","./controllers/navigation":"src/frontend/scripts/controllers/navigation","app/utils/settings":"src/frontend/scripts/utils/settings"});require.register("src/frontend/scripts/controllers/navigation",function(require,module,exports){var Navigation,happens,settings,ways,__bind=function(fn,me){return function(){return fn.apply(me,arguments)}};settings=require("app/utils/settings");happens=require("happens");ways=require("ways");ways.use(require("ways-browser"));Navigation=function(){var instance;instance=null;function Navigation(){this.url_changed=__bind(this.url_changed,this);var _this=this;if(Navigation.instance){console.error("You can't instantiate this Navigation twice");return}Navigation.instance=this;this.content_selector="#content .inner_content";this.content_div=$(this.content_selector);happens(this);window.ways=ways;ways("*",this.url_changed);delay(200,function(){return _this.emit("after_render")})}Navigation.prototype.url_changed=function(req){var div,_this=this;req.url=req.url.replace("/#","");div=$("<div>");this.emit("before_load");return div.load(req.url,function(){_this.emit("on_load");if(app.body.scrollTop()>0){app.body.animate({scrollTop:0})}_this.emit("before_destroy");return delay(400,function(){var new_content;new_content=div.find(_this.content_selector).children();_this.content_div=$(_this.content_selector);_this.content_div.children().remove();_this.content_div.append(new_content);return _this.emit("after_render")})})};Navigation.prototype.go=function(url){if(req.url.indexOf("/login"===0)){return true}ways.go(url);return false};Navigation.prototype.bind=function(scope){if(scope==null){scope="body"}return $(scope).find("a").each(function(index,item){var $item,href;$item=$(item);href=$item.attr("href");if(href==null){return}if(href.indexOf("http")>=0&&href.indexOf(document.domain)<0){return}if(href.indexOf("#")===0){return $item.click(function(){return false})}else if(href.indexOf("javascript")===0||href.indexOf("tel:")===0){return true}else{return $item.click(function(){return Navigation.instance.go($(this).attr("href"))})}})};return Navigation}();module.exports=new Navigation},{"app/utils/settings":"src/frontend/scripts/utils/settings",happens:"node_modules/happens/index",ways:"node_modules/ways/lib/ways","ways-browser":"node_modules/ways-browser/lib/index"});require.register("src/frontend/scripts/controllers/user",function(require,module,exports){var User,happens,user;happens=require("happens");User=function(){function User(){}User.prototype.logout=function(callback){this.emit("user:logged_out");return callback()};User.prototype.login=function(callback){var user;user={username:"Stefano Ortisi",thumb:"/images/profile.jpg",permalink:"/profile/stefanoortisi"};app.body.addClass("logged");return this.emit("user:logged",user)};return User}();user=new User;happens(user);module.exports=window.user_controller=user},{happens:"node_modules/happens/index"});require.register("src/frontend/scripts/controllers/views",function(require,module,exports){var View,happens,view,__bind=function(fn,me){return function(){return fn.apply(me,arguments)}};happens=require("happens");View=function(){var UNIQUE_ID;function View(){this.get_by_dom=__bind(this.get_by_dom,this);this.get_by_uid=__bind(this.get_by_uid,this);this.get=__bind(this.get,this)}UNIQUE_ID=0;View.prototype.hash_model={};View.prototype.uid_map={};View.prototype.get=function(id,index){if(index==null){index=0}if(this.hash_model[id]==null){return false}return this.hash_model[id][index]};View.prototype.get_by_uid=function(uid){var index,name;if(this.uid_map[uid]!=null){name=this.uid_map[uid].name;index=this.uid_map[uid].index;return this.get(name,index)}return false};View.prototype.get_by_dom=function(selector){return this.get_by_uid($(selector).data("uid"))};View.prototype.bind=function(scope,tolog){var _this=this;if(scope==null){scope="body"}if(tolog==null){tolog=false}return $(scope).find("[data-view]").each(function(index,item){var $item,name,names,view_name,_i,_len;$item=$(item);view_name=$item.data("view");$item.removeAttr("data-view");if(view_name.substring(0,1)==="["){names=view_name.substring(1,view_name.length-1).split(",")}else{names=[view_name]}for(_i=0,_len=names.length;_i<_len;_i++){name=names[_i];_this._add_view($item,name)}return $item.removeAttr("data-view")}).promise().done(function(){return _this.emit("binded")})};View.prototype.unbind=function(scope){var _this=this;if(scope==null){scope="body"}return $(scope).find("[data-uid]").each(function(index,item){var $item,id,v;$item=$(item);id=$item.data("uid");v=view.get_by_uid(id);if(v){if(typeof v.destroy==="function"){v.destroy()}return view.on_view_destroyed(id)}}).promise().done(function(){return _this.emit("unbinded")})};View.prototype._add_view=function($item,view_name){var e,l,view,_base;try{view=require("app/views/"+view_name)}catch(_error){e=_error;console.warn("e ->",e.message);console.error("app/views/"+view+" not found for ",$item)}view=new view($item);if((_base=this.hash_model)[view_name]==null){_base[view_name]=[]}l=this.hash_model[view_name].length;this.hash_model[view_name][l]=view;view.uid=UNIQUE_ID;view.view_name=view_name;$item.attr("data-uid",UNIQUE_ID);this.uid_map[UNIQUE_ID]={name:view_name,index:this.hash_model[view_name].length-1};return UNIQUE_ID++};View.prototype.on_view_destroyed=function(uid){var i,index,item,name,_i,_len,_ref,_results;if(this.uid_map[uid]!=null){name=this.uid_map[uid].name;index=this.uid_map[uid].index;if(this.hash_model[name][index]!=null){delete this.uid_map[uid];this.hash_model[name].splice(index,1);_ref=this.hash_model[name];_results=[];for(i=_i=0,_len=_ref.length;_i<_len;i=++_i){item=_ref[i];_results.push(this.uid_map[item.uid].index=i)}return _results}}};return View}();view=new View;happens(view);module.exports=window.view=view;window.View=view},{happens:"node_modules/happens/index"});require.register("src/frontend/scripts/utils/browser",function(require,module,exports){var BrowserDetect;BrowserDetect={init:function(){this.browser=this.searchString(this.dataBrowser)||"An unknown browser";this.version=this.searchVersion(navigator.userAgent)||this.searchVersion(navigator.appVersion)||"an unknown version";return this.OS=this.searchString(this.dataOS)||"an unknown OS"},searchString:function(data){var dataProp,dataString,i;i=0;while(i<data.length){dataString=data[i].string;dataProp=data[i].prop;this.versionSearchString=data[i].versionSearch||data[i].identity;if(dataString){if(dataString.indexOf(data[i].subString)!==-1){return data[i].identity}}else{if(dataProp){return data[i].identity}}i++}},searchVersion:function(dataString){var index;index=dataString.indexOf(this.versionSearchString);if(index===-1){return}return parseFloat(dataString.substring(index+this.versionSearchString.length+1))},dataBrowser:[{string:navigator.userAgent,subString:"Chrome",identity:"Chrome"},{string:navigator.userAgent,subString:"OmniWeb",versionSearch:"OmniWeb/",identity:"OmniWeb"},{string:navigator.vendor,subString:"Apple",identity:"Safari",versionSearch:"Version"},{prop:window.opera,identity:"Opera",versionSearch:"Version"},{string:navigator.vendor,subString:"iCab",identity:"iCab"},{string:navigator.vendor,subString:"KDE",identity:"Konqueror"},{string:navigator.userAgent,subString:"Firefox",identity:"Firefox"},{string:navigator.vendor,subString:"Camino",identity:"Camino"},{string:navigator.userAgent,subString:"Netscape",identity:"Netscape"},{string:navigator.userAgent,subString:"MSIE",identity:"Explorer",versionSearch:"MSIE"},{string:navigator.userAgent,subString:"Gecko",identity:"Mozilla",versionSearch:"rv"},{string:navigator.userAgent,subString:"Mozilla",identity:"Netscape",versionSearch:"Mozilla"}],dataOS:[{string:navigator.platform,subString:"Win",identity:"Windows"},{string:navigator.platform,subString:"Mac",identity:"Mac"},{string:navigator.userAgent,subString:"iPhone",identity:"iPhone/iPod"},{string:navigator.platform,subString:"Linux",identity:"Linux"}]};BrowserDetect.init();module.exports=BrowserDetect},{});require.register("src/frontend/scripts/utils/delay",function(require,module,exports){module.exports=function(delay,funk){return setTimeout(funk,delay)}},{});require.register("src/frontend/scripts/utils/log",function(require,module,exports){module.exports=function(){log.history=log.history||[];log.history.push(arguments);if(typeof console!=="undefined"&&console!==null){return console.log(Array.prototype.slice.call(arguments))}}},{});require.register("src/frontend/scripts/utils/mover",function(require,module,exports){var Mover,mover;Mover=function(){function Mover(){}Mover.prototype.scroll_to=function(el,with_topbar,speed){var y;if(with_topbar==null){with_topbar=false}if(speed==null){speed=300}y=el.position().top;log("[Mover] scroll_to",y);return this.scroll_to_y(y,with_topbar,speed)};Mover.prototype.scroll_to_y=function(y,with_topbar,speed){if(with_topbar==null){with_topbar=true}if(speed==null){speed=300}if(with_topbar){y-=app.settings.header_height}log("[mover] scroll_to_y",y);return $("html, body").animate({scrollTop:y},speed)};return Mover}();mover=new Mover;module.exports=window.mover=mover},{});require.register("src/frontend/scripts/utils/opacity",function(require,module,exports){var Opacity;Opacity={show:function(el,time){if(time==null){time=300}return el.fadeIn(time)},hide:function(el,time){if(time==null){time=300}return el.fadeOut(time)},get_time:function(time){return time/1e3+"s"}};module.exports=Opacity},{});require.register("src/frontend/scripts/utils/settings",function(require,module,exports){var BrowserDetect,has3d,platform,ratio,settings;BrowserDetect=require("app/utils/browser");settings={browser:{id:BrowserDetect.browser,version:BrowserDetect.version,OS:BrowserDetect.OS,chrome:navigator.userAgent.toLowerCase().indexOf("chrome")>-1,firefox:/Firefox/i.test(navigator.userAgent),ie8:false,device_ratio:window.devicePixelRatio,handheld:false,tablet:false,mobile:false,desktop:false,device:false,debug:false,css_cover_supported:Modernizr.backgroundsize,min_size:{w:900,h:400}},webp:false};settings.theme="desktop";settings.threshold_theme=900;settings.browser.retina=settings.browser.device_ratio===2;if(settings.browser.chrome&&settings.browser.version>=30){settings.webp=true}if(settings.browser.id==="Explorer"){settings.browser.ie=true;if(settings.browser.version===8){settings.browser.ie8=true}if(settings.browser.version===9){settings.browser.ie9=true}}settings.video_active=settings.browser.id!=="Explorer";if(/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)){settings.browser.handheld=true;ratio=$(window).width()/$(window).height();settings.browser.orientation=ratio>1?"landscape":"portrait";if($(window).width()<610||settings.browser.orientation==="landscape"&&ratio>2.1){settings.browser.mobile=true;settings.browser.tablet=false}else{settings.browser.mobile=false;settings.browser.tablet=true}}settings.browser.device=settings.browser.tablet||settings.browser.mobile;if(settings.browser.tablet===false&&settings.browser.mobile===false){settings.browser.desktop=true}settings.browser.windows_phone=false;if(settings.browser.mobile&&settings.browser.id==="Explorer"){settings.browser.windows_phone=true}settings.touch_device=settings.browser.handheld;settings.events_map={down:"mousedown",up:"mouseup",move:"mousemove"};if(settings.browser.device){if(settings.browser.windows_phone){settings.events_map={down:"MSPointerDown",up:"MSPointerUp",move:"MSPointerMove"}}else{settings.events_map={down:"touchstart",up:"touchend",move:"touchmove"}}}if(settings.browser.desktop){platform="desktop"}else if(settings.browser.tablet){platform="tablet"}else{platform="mobile"}settings.browser_class=settings.browser.id+"_"+settings.browser.version;has3d=function(){var el,t,transforms;el=document.createElement("p");has3d=void 0;transforms={webkitTransform:"-webkit-transform",OTransform:"-o-transform",msTransform:"-ms-transform",MozTransform:"-moz-transform",transform:"transform"};document.body.insertBefore(el,null);for(t in transforms){if(el.style[t]!==undefined){el.style[t]="translate3d(1px,1px,1px)";has3d=window.getComputedStyle(el).getPropertyValue(transforms[t])}}document.body.removeChild(el);return has3d!==undefined&&has3d.length>0&&has3d!=="none"};settings.bind=function(body){var klasses;klasses=[];klasses.push(settings.browser_class);klasses.push(settings.browser.OS.replace("/","_"));klasses.push(settings.browser.id);if(settings.touch_device){klasses.push("touch_device")}else{klasses.push("no_touch_device")}if(settings.browser.css_cover_supported){klasses.push("css_cover_supported")}body.addClass(klasses.join(" ").toLowerCase());return settings.header_height=$("header").height()};module.exports=settings},{"app/utils/browser":"src/frontend/scripts/utils/browser"});require.register("src/frontend/scripts/utils/window",function(require,module,exports){var Window,happens,__bind=function(fn,me){return function(){return fn.apply(me,arguments)}};happens=require("happens");module.exports=Window=function(){Window.prototype.obj=null;Window.prototype.w=0;
Window.prototype.h=0;function Window(){this.on_resize=__bind(this.on_resize,this);var _this=this;happens(this);this.obj=$(window);this.obj.on("resize",this.on_resize);delay(100,this.on_resize);$("html,body").on("click",function(){return _this.emit("body:clicked")})}Window.prototype.on_resize=function(){this.w=this.obj.width();this.h=this.obj.height();return this.emit("resize")};return Window}()},{happens:"node_modules/happens/index"});require.register("src/frontend/scripts/views/components/click_trigger",function(require,module,exports){var ClickTrigger,HoverTrigger,_ref,__hasProp={}.hasOwnProperty,__extends=function(child,parent){for(var key in parent){if(__hasProp.call(parent,key))child[key]=parent[key]}function ctor(){this.constructor=child}ctor.prototype=parent.prototype;child.prototype=new ctor;child.__super__=parent.prototype;return child};HoverTrigger=require("app/views/components/hover_trigger");module.exports=ClickTrigger=function(_super){__extends(ClickTrigger,_super);function ClickTrigger(){_ref=ClickTrigger.__super__.constructor.apply(this,arguments);return _ref}ClickTrigger.prototype.set_listeners=function(){this.dom.on("click",this.toggle);return app.window.on("body:clicked",this.close)};return ClickTrigger}(HoverTrigger)},{"app/views/components/hover_trigger":"src/frontend/scripts/views/components/hover_trigger"});require.register("src/frontend/scripts/views/components/fullscreen",function(require,module,exports){var Fullscreen,__bind=function(fn,me){return function(){return fn.apply(me,arguments)}};module.exports=Fullscreen=function(){function Fullscreen(dom){this.dom=dom;this.on_resize=__bind(this.on_resize,this);this.dom.addClass("fullscreen");app.window.on("resize",this.on_resize);this.on_resize()}Fullscreen.prototype.on_resize=function(){return this.dom.css({width:"100%",height:app.window.h-app.settings.header_height})};return Fullscreen}()},{});require.register("src/frontend/scripts/views/components/hover",function(require,module,exports){var Hover,happens,__bind=function(fn,me){return function(){return fn.apply(me,arguments)}};happens=require("happens");module.exports=Hover=function(){function Hover(dom){this.dom=dom;this.on_mouse_leave=__bind(this.on_mouse_leave,this);this.on_mouse_over=__bind(this.on_mouse_over,this);if(app.settings.touch_device){return}happens(this);this.dom.on("mouseover",this.on_mouse_over);this.dom.on("mouseleave",this.on_mouse_leave);this.dom.addClass("hover_object")}Hover.prototype.on_mouse_over=function(){return this.dom.addClass("hovered")};Hover.prototype.on_mouse_leave=function(){return this.dom.removeClass("hovered")};return Hover}()},{happens:"node_modules/happens/index"});require.register("src/frontend/scripts/views/components/hover_trigger",function(require,module,exports){var HoverTrigger,__bind=function(fn,me){return function(){return fn.apply(me,arguments)}};module.exports=HoverTrigger=function(){HoverTrigger.prototype.opened=false;HoverTrigger.prototype.klass="hovered";function HoverTrigger(dom){this.dom=dom;this.on_dropdown_closed=__bind(this.on_dropdown_closed,this);this.on_dropdown_opened=__bind(this.on_dropdown_opened,this);this.close=__bind(this.close,this);this.open=__bind(this.open,this);this.toggle=__bind(this.toggle,this);this.target=$(this.dom.data("target"));if(this.target.length<=0){log("[HoverTrigger] error. target not found",this.dom.data("target"));return}this.dom.addClass("hover_dropdown_trigger");this.set_listeners();app.on("dropdown:opened",this.on_dropdown_opened);app.on("dropdown:closed",this.on_dropdown_closed)}HoverTrigger.prototype.set_listeners=function(){if(app.settings.touch_device){this.dom.on("click",this.toggle)}else{this.dom.on("mouseover",this.open);this.target.on("mouseleave",this.close)}return app.window.on("body:clicked",this.close)};HoverTrigger.prototype.toggle=function(e){if(this.opened){this.close()}else{this.open()}return e.stopPropagation()};HoverTrigger.prototype.open=function(){if(this.opened){return}this.opened=true;this.dom.addClass(this.klass);this.target.addClass(this.klass);return app.emit("dropdown:opened",this.uid)};HoverTrigger.prototype.close=function(){if(!this.opened){return}this.opened=false;this.dom.removeClass(this.klass);this.target.removeClass(this.klass);return app.emit("dropdown:closed",this.uid)};HoverTrigger.prototype.on_dropdown_opened=function(data){if(data!==this.uid){return this.close()}};HoverTrigger.prototype.on_dropdown_closed=function(data){};return HoverTrigger}()},{});require.register("src/frontend/scripts/views/components/logout_link",function(require,module,exports){var LogoutLink;module.exports=LogoutLink=function(){function LogoutLink(dom){this.dom=dom;this.dom.on("click",function(e){e.preventDefault();e.stopPropagation();return user_controller.logout(function(){})})}return LogoutLink}()},{});require.register("src/frontend/scripts/views/components/modal",function(require,module,exports){var Modal,__bind=function(fn,me){return function(){return fn.apply(me,arguments)}};module.exports=Modal=function(){Modal.prototype.opened=false;function Modal(dom){this.dom=dom;this.close=__bind(this.close,this);this.overlay=$(".md_overlay")}Modal.prototype.open=function(){if(this.opened){return}this.opened=true;this.dom.addClass("md_show");return this.overlay.off("click").on("click",this.close)};Modal.prototype.close=function(){if(!this.opened){return}this.opened=false;return this.dom.removeClass("md_show")};return Modal}()},{});require.register("src/frontend/scripts/views/components/modal_handler",function(require,module,exports){var ModalHandler,__bind=function(fn,me){return function(){return fn.apply(me,arguments)}};module.exports=ModalHandler=function(){function ModalHandler(dom){this.dom=dom;this.on_ready=__bind(this.on_ready,this);view.once("binded",this.on_ready)}ModalHandler.prototype.on_ready=function(){var modal_target;modal_target=view.get_by_dom(this.dom.data("modal"));return this.dom.on("click",function(){return modal_target.open()})};return ModalHandler}()},{});require.register("src/frontend/scripts/views/components/popup_handler",function(require,module,exports){var PopupHandler;module.exports=PopupHandler=function(){function PopupHandler(dom){var h,title,url,w;this.dom=dom;url=this.dom.data("url");title=this.dom.data("title");w=this.dom.data("w");h=this.dom.data("h");this.dom.on("click",function(){var left,top;left=app.window.w/2-w/2;top=app.window.h/2-h/2;return window.open(url,title,"toolbar=no, location=no, directories=no, status=no, menubar=no, scrollbars=no, resizable=no, copyhistory=no, width="+w+", height="+h+", top="+top+", left="+left).focus()})}return PopupHandler}()},{});require.register("src/frontend/scripts/views/components/scroll_handler",function(require,module,exports){var ScrollHandler;module.exports=ScrollHandler=function(){function ScrollHandler(dom){var target;this.dom=dom;target=$(this.dom.data("target"));if(target.length<=0){return}this.dom.addClass("scroll_handler");this.dom.on("click",function(){return mover.scroll_to(target)})}return ScrollHandler}()},{});require.register("src/frontend/scripts/views/explore",function(require,module,exports){var Explore;module.exports=Explore=function(){function Explore(dom){this.dom=dom}return Explore}()},{});require.register("src/frontend/scripts/views/header",function(require,module,exports){var Header,navigation,__bind=function(fn,me){return function(){return fn.apply(me,arguments)}};navigation=require("app/controllers/navigation");module.exports=Header=function(){Header.prototype.current_page="";function Header(dom){this.dom=dom;this.on_user_unlogged=__bind(this.on_user_unlogged,this);this.on_user_logged=__bind(this.on_user_logged,this);this.check_menu=__bind(this.check_menu,this);app.on("user:logged",this.on_user_logged);navigation.on("after_render",this.check_menu)}Header.prototype.check_menu=function(){var obj,page;obj=$("[data-menu]");if(obj.length>0){page=obj.data("menu");if(this.current_page.length>0){this.dom.find(".#{@current_page}_item").removeClass("selected");app.body.removeClass(""+this.current_page+"_page")}this.dom.find("."+page+"_item").addClass("selected");app.body.addClass(""+page+"_page");return this.current_page=page}};Header.prototype.on_user_logged=function(data){var html,tmpl,wrapper;wrapper=this.dom.find(".user_logged");tmpl=require("templates/shared/header_user_logged");html=tmpl(data);wrapper.empty().append(html);return view.bind(wrapper)};Header.prototype.on_user_unlogged=function(data){};return Header}()},{"app/controllers/navigation":"src/frontend/scripts/controllers/navigation","templates/shared/header_user_logged":"src/frontend/templates/shared/header_user_logged"});require.register("src/frontend/scripts/views/loading",function(require,module,exports){var Loading,Opacity,navigation;navigation=require("app/controllers/navigation");Opacity=require("app/utils/opacity");module.exports=Loading=function(){function Loading(dom){var _this=this;this.dom=dom;navigation.on("before_destroy",function(){app.body.addClass("loading");return Opacity.show(_this.dom)});navigation.on("after_render",function(){app.body.removeClass("loading");return Opacity.hide(_this.dom)})}return Loading}()},{"app/controllers/navigation":"src/frontend/scripts/controllers/navigation","app/utils/opacity":"src/frontend/scripts/utils/opacity"});require.register("src/frontend/scripts/views/login",function(require,module,exports){var Login,__bind=function(fn,me){return function(){return fn.apply(me,arguments)}};module.exports=Login=function(){function Login(dom){this.dom=dom;this._google_login=__bind(this._google_login,this);this._soundcloud_login=__bind(this._soundcloud_login,this);this._facebook_login=__bind(this._facebook_login,this);this.username=this.dom.find(".username");this.password=this.dom.find(".password");this.dom.find(".facebook").on("click",this._facebook_login);this.dom.find(".soundcloud").on("click",this._soundcloud_login);this.dom.find(".google").on("click",this._google_login)}Login.prototype._facebook_login=function(){return log("[Login] _facebook_login")};Login.prototype._soundcloud_login=function(){return log("[Login] _soundcloud_login")};Login.prototype._google_login=function(){return log("[Login] _google_login")};return Login}()},{});require.register("src/frontend/scripts/views/room",function(require,module,exports){var Room;module.exports=Room=function(){function Room(dom){this.dom=dom}return Room}()},{});require.register("src/frontend/templates/shared/header_user_logged",function(require,module,exports){module.exports=function anonymous(locals){var buf=[];var locals_=locals||{},thumb=locals_.thumb;buf.push('<div data-view="components/click_trigger" data-target=".user_dropdown" class="thumb_wrapper"><img'+jade.attrs({width:"42",src:""+thumb+""},{width:true,src:true})+'/><span class="spritesheet small_arrow_white"></span><ul class="user_dropdown hover_dropdown"><li><a href="#" title="My Profile">My Profile</a></li><li><a href="#" title="Feedback">Feedback</a></li><li><a href="#" title="Logout" data-view="components/logout_link" class="logout">Logout</a></li></ul></div><a href="javascript:;" title="Messages"><span class="spritesheet messages_icon"></span></a>');return buf.join("")}},{});require.register("src/frontend/vendors/modernizr.custom",function(require,module,exports){window.Modernizr=function(a,b,c){function A(a){j.cssText=a}function B(a,b){return A(n.join(a+";")+(b||""))}function C(a,b){return typeof a===b}function D(a,b){return!!~(""+a).indexOf(b)}function E(a,b){for(var d in a){var e=a[d];if(!D(e,"-")&&j[e]!==c)return b=="pfx"?e:!0}return!1}function F(a,b,d){for(var e in a){var f=b[a[e]];if(f!==c)return d===!1?a[e]:C(f,"function")?f.bind(d||b):f}return!1}function G(a,b,c){var d=a.charAt(0).toUpperCase()+a.slice(1),e=(a+" "+p.join(d+" ")+d).split(" ");return C(b,"string")||C(b,"undefined")?E(e,b):(e=(a+" "+q.join(d+" ")+d).split(" "),F(e,b,c))}function H(){e.input=function(c){for(var d=0,e=c.length;d<e;d++)t[c[d]]=c[d]in k;return t.list&&(t.list=!!b.createElement("datalist")&&!!a.HTMLDataListElement),t}("autocomplete autofocus list placeholder max min multiple pattern required step".split(" ")),e.inputtypes=function(a){for(var d=0,e,f,h,i=a.length;d<i;d++)k.setAttribute("type",f=a[d]),e=k.type!=="text",e&&(k.value=l,k.style.cssText="position:absolute;visibility:hidden;",/^range$/.test(f)&&k.style.WebkitAppearance!==c?(g.appendChild(k),h=b.defaultView,e=h.getComputedStyle&&h.getComputedStyle(k,null).WebkitAppearance!=="textfield"&&k.offsetHeight!==0,g.removeChild(k)):/^(search|tel)$/.test(f)||(/^(url|email)$/.test(f)?e=k.checkValidity&&k.checkValidity()===!1:e=k.value!=l)),s[a[d]]=!!e;return s}("search tel url email datetime date month week time datetime-local number range color".split(" "))}var d="2.8.3",e={},f=!0,g=b.documentElement,h="modernizr",i=b.createElement(h),j=i.style,k=b.createElement("input"),l=":)",m={}.toString,n=" -webkit- -moz- -o- -ms- ".split(" "),o="Webkit Moz O ms",p=o.split(" "),q=o.toLowerCase().split(" "),r={},s={},t={},u=[],v=u.slice,w,x=function(a,c,d,e){var f,i,j,k,l=b.createElement("div"),m=b.body,n=m||b.createElement("body");if(parseInt(d,10))while(d--)j=b.createElement("div"),j.id=e?e[d]:h+(d+1),l.appendChild(j);return f=["&#173;",'<style id="s',h,'">',a,"</style>"].join(""),l.id=h,(m?l:n).innerHTML+=f,n.appendChild(l),m||(n.style.background="",n.style.overflow="hidden",k=g.style.overflow,g.style.overflow="hidden",g.appendChild(n)),i=c(l,a),m?l.parentNode.removeChild(l):(n.parentNode.removeChild(n),g.style.overflow=k),!!i},y={}.hasOwnProperty,z;!C(y,"undefined")&&!C(y.call,"undefined")?z=function(a,b){return y.call(a,b)}:z=function(a,b){return b in a&&C(a.constructor.prototype[b],"undefined")},Function.prototype.bind||(Function.prototype.bind=function(b){var c=this;if(typeof c!="function")throw new TypeError;var d=v.call(arguments,1),e=function(){if(this instanceof e){var a=function(){};a.prototype=c.prototype;var f=new a,g=c.apply(f,d.concat(v.call(arguments)));return Object(g)===g?g:f}return c.apply(b,d.concat(v.call(arguments)))};return e}),r.backgroundsize=function(){return G("backgroundSize")},r.csstransforms=function(){return!!G("transform")},r.csstransforms3d=function(){var a=!!G("perspective");return a&&"webkitPerspective"in g.style&&x("@media (transform-3d),(-webkit-transform-3d){#modernizr{left:9px;position:absolute;height:3px;}}",function(b,c){a=b.offsetLeft===9&&b.offsetHeight===3}),a},r.video=function(){var a=b.createElement("video"),c=!1;try{if(c=!!a.canPlayType)c=new Boolean(c),c.ogg=a.canPlayType('video/ogg; codecs="theora"').replace(/^no$/,""),c.h264=a.canPlayType('video/mp4; codecs="avc1.42E01E"').replace(/^no$/,""),c.webm=a.canPlayType('video/webm; codecs="vp8, vorbis"').replace(/^no$/,"")}catch(d){}return c};for(var I in r)z(r,I)&&(w=I.toLowerCase(),e[w]=r[I](),u.push((e[w]?"":"no-")+w));return e.input||H(),e.addTest=function(a,b){if(typeof a=="object")for(var d in a)z(a,d)&&e.addTest(d,a[d]);else{a=a.toLowerCase();if(e[a]!==c)return e;b=typeof b=="function"?b():b,typeof f!="undefined"&&f&&(g.className+=" "+(b?"":"no-")+a),e[a]=b}return e},A(""),i=k=null,function(a,b){function l(a,b){var c=a.createElement("p"),d=a.getElementsByTagName("head")[0]||a.documentElement;return c.innerHTML="x<style>"+b+"</style>",d.insertBefore(c.lastChild,d.firstChild)}function m(){var a=s.elements;return typeof a=="string"?a.split(" "):a}function n(a){var b=j[a[h]];return b||(b={},i++,a[h]=i,j[i]=b),b}function o(a,c,d){c||(c=b);if(k)return c.createElement(a);d||(d=n(c));var g;return d.cache[a]?g=d.cache[a].cloneNode():f.test(a)?g=(d.cache[a]=d.createElem(a)).cloneNode():g=d.createElem(a),g.canHaveChildren&&!e.test(a)&&!g.tagUrn?d.frag.appendChild(g):g}function p(a,c){a||(a=b);if(k)return a.createDocumentFragment();c=c||n(a);var d=c.frag.cloneNode(),e=0,f=m(),g=f.length;for(;e<g;e++)d.createElement(f[e]);return d}function q(a,b){b.cache||(b.cache={},b.createElem=a.createElement,b.createFrag=a.createDocumentFragment,b.frag=b.createFrag()),a.createElement=function(c){return s.shivMethods?o(c,a,b):b.createElem(c)},a.createDocumentFragment=Function("h,f","return function(){var n=f.cloneNode(),c=n.createElement;h.shivMethods&&("+m().join().replace(/[\w\-]+/g,function(a){return b.createElem(a),b.frag.createElement(a),'c("'+a+'")'})+");return n}")(s,b.frag)}function r(a){a||(a=b);var c=n(a);return s.shivCSS&&!g&&!c.hasCSS&&(c.hasCSS=!!l(a,"article,aside,dialog,figcaption,figure,footer,header,hgroup,main,nav,section{display:block}mark{background:#FF0;color:#000}template{display:none}")),k||q(a,c),a}var c="3.7.0",d=a.html5||{},e=/^<|^(?:button|map|select|textarea|object|iframe|option|optgroup)$/i,f=/^(?:a|b|code|div|fieldset|h1|h2|h3|h4|h5|h6|i|label|li|ol|p|q|span|strong|style|table|tbody|td|th|tr|ul)$/i,g,h="_html5shiv",i=0,j={},k;(function(){try{var a=b.createElement("a");a.innerHTML="<xyz></xyz>",g="hidden"in a,k=a.childNodes.length==1||function(){b.createElement("a");var a=b.createDocumentFragment();return typeof a.cloneNode=="undefined"||typeof a.createDocumentFragment=="undefined"||typeof a.createElement=="undefined"}()}catch(c){g=!0,k=!0}})();var s={elements:d.elements||"abbr article aside audio bdi canvas data datalist details dialog figcaption figure footer header hgroup main mark meter nav output progress section summary template time video",version:c,shivCSS:d.shivCSS!==!1,supportsUnknownElements:k,shivMethods:d.shivMethods!==!1,type:"default",shivDocument:r,createElement:o,createDocumentFragment:p};a.html5=s,r(b)}(this,b),e._version=d,e._prefixes=n,e._domPrefixes=q,e._cssomPrefixes=p,e.testProp=function(a){return E([a])},e.testAllProps=G,e.testStyles=x,g.className=g.className.replace(/(^|\s)no-js(\s|$)/,"$1$2")+(f?" js "+u.join(" "):""),e}(this,this.document)},{});require("src/frontend/scripts/app")})();